# Stan-blog

[![Spring Boot](https://img.shields.io/badge/Spring%20Boot-3.2.5-brightgreen.svg)](https://spring.io/projects/spring-boot)
[![React](https://img.shields.io/badge/React-18.3.0-blue.svg)](https://reactjs.org)
[![TypeScript](https://img.shields.io/badge/TypeScript-5.2.2-blue.svg)](https://www.typescriptlang.org)

ä¸€ä¸ªåŸºäº Spring Boot å’Œ React çš„ç°ä»£åŒ–å¼€æºåšå®¢å¹³å°ï¼Œæ”¯æŒå¤šè¯­è¨€ã€å¤šç«¯é€‚é…ï¼Œæä¾›å®Œæ•´çš„å†…å®¹ç®¡ç†å’Œæ•°æ®åˆ†æåŠŸèƒ½ã€‚

[English](README.md) | [ç¹é«”ä¸­æ–‡](README_TC.md) | ç®€ä½“ä¸­æ–‡

## âœ¨ ä¸»è¦ç‰¹æ€§

### ğŸ¨ ç”¨æˆ·ç•Œé¢

- **ç°ä»£åŒ–è®¾è®¡**: åŸºäº Material-UI è®¾è®¡ç³»ç»Ÿï¼Œæ”¯æŒæš—é»‘/äº®è‰²ä¸»é¢˜åˆ‡æ¢
- **å“åº”å¼å¸ƒå±€**: å®Œç¾é€‚é…æ¡Œé¢ã€å¹³æ¿å’Œç§»åŠ¨è®¾å¤‡
- **å¤šè¯­è¨€æ”¯æŒ**: åŸºäº i18next çš„å›½é™…åŒ–è§£å†³æ–¹æ¡ˆ
- **å¯è®¿é—®æ€§**: ç¬¦åˆ WCAG æ ‡å‡†ï¼Œæ”¯æŒå±å¹•é˜…è¯»å™¨

### ğŸ“ å†…å®¹ç®¡ç†

- **å¯Œæ–‡æœ¬ç¼–è¾‘å™¨**: é›†æˆ WangEditor æ”¯æŒå›¾ç‰‡ã€è§†é¢‘ã€ä»£ç å—ç­‰å¤šåª’ä½“å†…å®¹
- **æ™ºèƒ½æ ‡ç­¾ç³»ç»Ÿ**: æ”¯æŒæ ‡ç­¾å±‚çº§å…³ç³»ï¼Œæ„å»ºå¤æ‚çš„å†…å®¹åˆ†ç±»ç³»ç»Ÿ
- **å†…å®¹ç±»å‹**: æ”¯æŒæ–‡ç« ã€è®¡åˆ’ã€è¯æ±‡è¡¨ç­‰å¤šç§å†…å®¹ç±»å‹
- **è‡ªåŠ¨è‰ç¨¿ä¿å­˜**: é˜²æ­¢åˆ›ä½œå†…å®¹ä¸¢å¤±

### ğŸ” ç”¨æˆ·ç³»ç»Ÿ

- **JWT è®¤è¯**: å®‰å…¨çš„ç”¨æˆ·è®¤è¯å’Œæˆæƒæœºåˆ¶
- **é‚®ç®±éªŒè¯**: å®Œæ•´çš„ç”¨æˆ·æ³¨å†Œå’Œå¯†ç é‡ç½®å·¥ä½œæµç¨‹
- **ä¸ªäººä¸­å¿ƒ**: ç”¨æˆ·ä¸ªäººä¿¡æ¯ç®¡ç†å’Œåå¥½è®¾ç½®
- **å¤šè®¾å¤‡åŒæ­¥**: è·¨è®¾å¤‡æ•°æ®åŒæ­¥

### ğŸ“Š æ•°æ®åˆ†æ

- **å†…å®¹ç»Ÿè®¡**: æ–‡ç« æµè§ˆé‡ã€ç‚¹èµæ•°ç­‰å®æ—¶ç»Ÿè®¡
- **ç”¨æˆ·è¡Œä¸º**: è¯¦ç»†çš„ç”¨æˆ·è®¿é—®å’Œäº’åŠ¨æ•°æ®
- **å¯è§†åŒ–å›¾è¡¨**: ç›´è§‚çš„æ•°æ®å±•ç¤ºå’Œè¶‹åŠ¿åˆ†æ
- **å¯¼å‡ºåŠŸèƒ½**: æ”¯æŒæ•°æ®å¯¼å‡ºå’ŒæŠ¥è¡¨ç”Ÿæˆ

### ğŸš€ æ€§èƒ½ä¼˜åŒ–

- **ä»£ç åˆ†å‰²**: è·¯ç”±çº§åˆ«çš„æ‡’åŠ è½½ï¼Œé¦–æ¬¡åŠ è½½é€Ÿåº¦æå‡ 60%+
- **ç¼“å­˜ç­–ç•¥**: æ™ºèƒ½å‰ç«¯ç¼“å­˜å’Œ CDN åŠ é€Ÿ
- **SEO å‹å¥½**: æœåŠ¡å™¨ç«¯æ¸²æŸ“æ”¯æŒï¼Œæœç´¢å¼•æ“ä¼˜åŒ–
- **PWA æ”¯æŒ**: ç¦»çº¿è®¿é—®å’Œæ¨é€é€šçŸ¥

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

### å‰ç«¯ (stan_blog_web)

- **æ¡†æ¶**: React 18.3.0 + TypeScript 5.2.2
- **æ„å»ºå·¥å…·**: Vite 5.2.0 (æ”¯æŒçƒ­é‡è½½å’Œå¿«é€Ÿæ„å»º)
- **UI ç»„ä»¶åº“**: Material-UI 5.15.18
- **çŠ¶æ€ç®¡ç†**: React Context + Hooks
- **è·¯ç”±**: React Router DOM 6.23.1
- **HTTP å®¢æˆ·ç«¯**: Axios 0.28.0
- **å¯Œæ–‡æœ¬ç¼–è¾‘å™¨**: WangEditor 5.1.20
- **å›½é™…åŒ–**: i18next 21.8.10
- **æ—¥æœŸå¤„ç†**: Moment.js 2.29.4
- **åŠ¨ç”»**: React Spring 9.7.1
- **ä»£ç è´¨é‡**: ESLint + Prettier + TypeScript

### åç«¯ (stan_blog_service)

- **æ¡†æ¶**: Spring Boot 3.2.5
- **å®‰å…¨**: Spring Security 6.2.4 + JWT
- **æ•°æ®åº“**: MySQL + Hibernate
- **ç¼“å­˜**: Redis (Spring Data Redis)
- **æ–‡æ¡£**: SpringDoc OpenAPI 2.5.0 (Swagger UI)
- **é‚®ä»¶**: Spring Boot Starter Mail + Thymeleaf
- **ç›‘æ§**: Spring Boot Actuator
- **æµ‹è¯•**: JUnit 5.9.2 + H2 Database
- **Tools**: Lombok 1.18.38 + Apache Commons

### å¼€å‘ç¯å¢ƒ

- **JDK**: 17
- **Node.js**: 18.20.2 (managed with Volta)
- **åŒ…ç®¡ç†**: Maven + NPM
- **ç‰ˆæœ¬æ§åˆ¶**: Git
- **IDE**: æ”¯æŒ Cursor, VSCode, IntelliJ IDEA

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å‰ææ¡ä»¶

- JDK 17+
- Node.js 18.20.2+
- Maven 3.6+
- MySQL 8.0+
- Redis 6.0+

### åç«¯æœåŠ¡å¯åŠ¨

```bash
# å¯¼èˆªåˆ°åç«¯é¡¹ç›®ç›®å½•
cd stan_blog_service

# å®‰è£…ä¾èµ–å¹¶å¯åŠ¨ (å¼€å‘ç¯å¢ƒ)
mvn spring-boot:run

# æˆ–æ„å»ºç”Ÿäº§ç¯å¢ƒ
mvn package -Pprod
```

é»˜è®¤ç«¯å£: `8080`  
API æ–‡æ¡£: `http://localhost:8080/swagger-ui/index.html`

### å‰ç«¯åº”ç”¨å¯åŠ¨

```bash
# å¯¼èˆªåˆ°å‰ç«¯é¡¹ç›®ç›®å½•
cd stan_blog_web

# å®‰è£…ä¾èµ–
npm install

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev

# æ„å»ºç”Ÿäº§ç¯å¢ƒ
npm run build
```

é»˜è®¤ç«¯å£: `3000`  
è®¿é—®åœ°å€: `http://localhost:3000`

## ğŸ“– é¡¹ç›®ç»“æ„

```
stan-blog/
â”œâ”€â”€ stan_blog_service/          # åç«¯æœåŠ¡
â”‚   â”œâ”€â”€ src/main/java/com/stan/blog/
â”‚   â”‚   â”œâ”€â”€ core/              # ä¸»åŠŸèƒ½æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ portal/            # ç”¨æˆ·é—¨æˆ·æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ content/           # å†…å®¹ç®¡ç†æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ analytics/         # æ•°æ®åˆ†ææ¨¡å—
â”‚   â”‚   â””â”€â”€ beans/             # æ•°æ®å®ä½“æ¨¡å—
â”‚   â”œâ”€â”€ src/main/resources/    # é…ç½®æ–‡ä»¶
â”‚   â””â”€â”€ src/test/             # å•å…ƒæµ‹è¯•
â”‚
â”œâ”€â”€ stan_blog_web/             # å‰ç«¯åº”ç”¨
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ portal/           # ç”¨æˆ·é—¨æˆ·æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ admin/            # ç®¡ç†åå°æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ components/       # å…¬å…±ç»„ä»¶æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ services/         # API æœåŠ¡æ¨¡å—
â”‚   â”‚   â””â”€â”€ contexts/         # çŠ¶æ€ç®¡ç†æ¨¡å—
â”‚   â”œâ”€â”€ public/               # é™æ€èµ„æº
â”‚   â””â”€â”€ deploy/               # éƒ¨ç½²ç›¸å…³
â”‚
â”œâ”€â”€ docker_compose/           # Docker Compose æ–‡ä»¶
â”œâ”€â”€ Jenkinsfiles/
â”‚   â””â”€â”€ Jenkinsfile_staging   # Staging ç¯å¢ƒæµæ°´çº¿é…ç½®
â””â”€â”€ Jmeter/                   # JMeter æµ‹è¯•è„šæœ¬å’Œæµ‹è¯•ç”¨æˆ·æ•°æ®
```

## ğŸ§ª æµ‹è¯•

### åç«¯æµ‹è¯•

```bash
cd stan_blog_service
mvn test
```

é¡¹ç›®é‡‡ç”¨åˆ†å±‚æµ‹è¯•ç­–ç•¥ï¼š

- **å•å…ƒæµ‹è¯•**: è¦†ç›–æœåŠ¡å±‚ä¸šåŠ¡é€»è¾‘
- **é›†æˆæµ‹è¯•**: æµ‹è¯• API æ¥å£å’Œæ•°æ®åº“äº¤äº’
- **H2 å†…å­˜æ•°æ®åº“**: æµ‹è¯•ç¯å¢ƒéš”ç¦»

### å‰ç«¯æµ‹è¯•

```bash
cd stan_blog_web
npm run lint          # ä»£ç è§„èŒƒæ£€æŸ¥
npm run build:analyze  # æ‰“åŒ…åˆ†æ
```

### è´Ÿè½½æµ‹è¯•

#### JMeter

```bash
# åˆ›å»ºæ–‡ä»¶å¤¹
mkdir jmeter
mkdir jmeter\results
mkdir jmeter\logs

# è¿è¡Œæµ‹è¯•è®¡åˆ’
jmeter.bat -n -t ".\jmeter\stanblog-test-plan.jmx" -l ".\jmeter\results.jtl" -j ".\jmeter\logs\jmeter.log"
```

## ğŸ“± åŠŸèƒ½æ¨¡å—

### ç”¨æˆ·é—¨æˆ· (Portal)

- **é¦–é¡µå±•ç¤º**: æœ€æ–°æ–‡ç« ã€çƒ­é—¨å†…å®¹æ¨è
- **å†…å®¹æµè§ˆ**: æ–‡ç« è¯¦æƒ…ã€æ ‡ç­¾åˆ†ç±»ã€æœç´¢åŠŸèƒ½
- **ç”¨æˆ·ç³»ç»Ÿ**: æ³¨å†Œç™»å½•ã€é‚®ç®±éªŒè¯ã€å¯†ç é‡ç½®
- **ä¸ªäººä¸­å¿ƒ**: ä¸ªäººèµ„æ–™ã€æˆ‘çš„æ–‡ç« ã€äº’åŠ¨è®°å½•

### ç®¡ç†åå° (Admin)

- **å†…å®¹ç®¡ç†**: æ–‡ç« ç¼–è¾‘ã€å‘å¸ƒã€è‰ç¨¿ç®¡ç†
- **æ ‡ç­¾ç®¡ç†**: æ ‡ç­¾åˆ›å»ºã€å±‚çº§å…³ç³»ç®¡ç†
- **ç”¨æˆ·ç®¡ç†**: ç”¨æˆ·ä¿¡æ¯ã€æƒé™æ§åˆ¶
- **æ•°æ®åˆ†æ**: è®¿é—®ç»Ÿè®¡ã€å†…å®¹è¡¨ç°åˆ†æ
- **ç³»ç»Ÿè®¾ç½®**: ç½‘ç«™é…ç½®ã€ä¸»é¢˜è®¾ç½®

## ğŸ¤– AIï¼ˆLLMï¼‰æ ‡é¢˜ç”Ÿæˆ

- åŠŸèƒ½æ¦‚è¿°ï¼šåŸºäºå¤§è¯­è¨€æ¨¡å‹ï¼Œä»æ–‡ç« æ­£æ–‡æ™ºèƒ½ç”Ÿæˆç²¾ç‚¼ã€æ˜“è¯»ä¸” SEO å‹å¥½çš„æ ‡é¢˜ã€‚
- å‰ç«¯ä½¿ç”¨ï¼šåœ¨ç®¡ç†åå°ã€Œæ–‡ç« ç¼–è¾‘ã€é¡µç‚¹å‡» `ä½¿ç”¨ AI ç”Ÿæˆæ ‡é¢˜`ï¼›æ­£æ–‡éœ€è¶…è¿‡ 100 å­—ï¼›ä¼šæœ‰å†…å®¹è¿‡çŸ­/è¿‡é•¿ã€é…é¢è€—å°½ã€ç”Ÿæˆå¤±è´¥æˆ–æœåŠ¡ä¸å¯ç”¨ç­‰æç¤ºã€‚
- åç«¯æ¥å£ï¼š`GET /v1/ai/check-quota` è¿”å› `{ allowed, remaining }`ï¼›`POST /v1/ai/generate-title` è¯·æ±‚ä½“ `{ content: string }`ï¼›æœåŠ¡ç«¯æ ¡éªŒæ­£æ–‡é•¿åº¦ï¼ˆ100â€“5000 å­—ï¼‰ã€‚
- é…é¢ä¸é™æµï¼šéç®¡ç†å‘˜æ¯å¤©æœ€å¤š `ai.title.daily-limit` æ¬¡ï¼ˆé»˜è®¤ 5 æ¬¡ï¼‰ï¼›ç®¡ç†å‘˜ä¸å—é™ï¼›ä½¿ç”¨é‡é€šè¿‡ Redis è®°å½•ï¼Œçª—å£ä¸º 24 å°æ—¶ã€‚
- é…ç½®é¡¹ï¼š`ai.title.prompt`ï¼ˆç³»ç»Ÿæç¤ºè¯ï¼‰ã€`ai.title.daily-limit`ï¼ˆæ¯æ—¥é…é¢ï¼‰ï¼›åº•å±‚ä½¿ç”¨ Spring AI `ChatClient`ã€‚
- è¾“å‡ºè§„èŒƒï¼šç”Ÿæˆçš„æ ‡é¢˜ç»Ÿä¸€ä¸ºå•è¡Œæ–‡æœ¬ï¼Œè‡ªåŠ¨å»é™¤å¤šä½™ç©ºç™½ã€‚

## ğŸŒ éƒ¨ç½²

### å¼€å‘ç¯å¢ƒ

é¡¹ç›®æ”¯æŒçƒ­é‡è½½å¼€å‘ï¼Œå‰ç«¯å’Œåç«¯å¯ä»¥ç‹¬ç«‹å¯åŠ¨ï¼Œæ–¹ä¾¿è°ƒè¯•ã€‚

### ç”Ÿäº§ç¯å¢ƒ

- **å‰ç«¯**: æ„å»ºå·¥å…·ä¸º Viteï¼Œæ”¯æŒä»£ç åˆ†å‰²å’Œç¼“å­˜ä¼˜åŒ–
- **åç«¯**: Spring Boot æ‰“åŒ…ä¸º JARï¼Œæ”¯æŒ Docker å®¹å™¨åŒ–éƒ¨ç½²
- **æ•°æ®åº“**: MySQL ä¸»ä»æ¶æ„ï¼ŒRedis é›†ç¾¤ç¼“å­˜
- **è´Ÿè½½å‡è¡¡**: Nginx åå‘ä»£ç†ï¼Œæ”¯æŒ HTTPS

## ğŸ“ˆ æ€§èƒ½ä¼˜åŒ–

### å‰ç«¯ä¼˜åŒ–ç»“æœ

- **æ‰“åŒ…ä½“ç§¯**: ä¸»æ–‡ä»¶ä» 1,079KB å‡è‡³ 415KB (å‡å°‘ 61.6%)
- **ä»£ç åˆ†å‰²**: vendor chunk åˆ†ç¦»ï¼Œé•¿æœŸç¼“å­˜å‹å¥½
- **æ‡’åŠ è½½**: è·¯ç”±çº§åˆ«æŒ‰éœ€åŠ è½½
- **å‹ç¼©ä¼˜åŒ–**: Terser å‹ç¼©ï¼Œç§»é™¤è°ƒè¯•ä»£ç 

### åç«¯ä¼˜åŒ–

- **è¿æ¥æ± **: HikariCP æ•°æ®åº“è¿æ¥ä¼˜åŒ–
- **ç¼“å­˜ç­–ç•¥**: Redis å¤šçº§ç¼“å­˜
- **å¼‚æ­¥å¤„ç†**: Spring @Async éé˜»å¡æ“ä½œ
- **JVM è°ƒä¼˜**: å†…å­˜å’Œ GC ä¼˜åŒ–ï¼Œç”Ÿäº§ç¯å¢ƒä¸‹çš„æ€§èƒ½ä¼˜åŒ–

## ğŸ”— ç›¸å…³é“¾æ¥

- **åœ¨çº¿ä½“éªŒ**: [https://stan-blog.stanli.site](https://stan-blog.stanli.site)
- **API æ–‡æ¡£**: [Swagger UI](http://localhost:8080/swagger-ui/index.html)
- **é¡¹ç›®çœ‹æ¿**:

  - [GitHub](https://github.com/lipohong/stan-blog)
  - [Gitlab Projects](https://gitlab.stanli.site/stanli/stan-blog)

- **é—®é¢˜åé¦ˆ**:

  - [GitHub Issues](https://github.com/lipohong/stan-blog/issues)
  - [Gitlab Issues](https://gitlab.stanli.site/stanli/stan-blog/-/issues)
